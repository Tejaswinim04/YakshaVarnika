<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yakshavarnika</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(to right, #330867, #30cfd0);
            color: white;
            text-align: center;
            padding: 40px;
        }

        h1 {
            font-family: 'Cinzel Decorative', cursive;
            font-size: 4rem;
            color: #ffe600;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px #000;
        }

        .upload-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 10px;
            border-radius: 12px;
            max-width: 500px;
            margin: auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.4);
        }

        input[type="file"] {
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            background: white;
        }

        input[type="submit"] {
            padding: 10px 20px;
            background-color: #ffe600;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            color: #333;
        }

        img {
            margin-top: 20px;
            border-radius: 10px;
            border: 2px solid #fff;
        }

        .description-button {
            margin-top: 15px;
            background-color: #7d7e7e;
            color: #ffe600;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            border: 2px solid #ffe600;
        }

        .description {
            margin-top: 20px;
            font-size: 18px;
            color: #ffffff;
            text-align: justify;
            display: none;
        }
    </style>
    <script>
        function showDescription() {
            const descriptions = {
                "krishna": "Krishna is a divine figure known for his wisdom, flute playing, and playful nature. He is central to many stories in Indian mythology and plays a major role in the Mahabharata.",
                
                "devi": "Devi, in Yakshagana, represents the embodiment of divine feminine power and is portrayed as a fierce yet graceful goddess. Her makeup is elaborate and striking, featuring bold red and white facial paints symbolizing energy, purity, and divinity. The eyes are heavily outlined to reflect intensity and spiritual focus, often with symmetrical patterns enhancing her commanding presence. Her crown (kirita) is tall and ornately decorated with golden motifs, floral designs, and shimmering embellishments, signifying her celestial status and regal authority. The costume typically includes bright silk garments in shades of red, gold, and orange, with layers of decorative fabric, heavy jewelry, and armlets that highlight her valor and beauty. As a character, Devi is central to many mythological narratives, especially where she defeats powerful demons like Mahishasura, symbolizing the victory of good over evil. Her portrayal on stage combines strength, compassion, and protective motherly qualities, making her one of the most revered and majestic characters in Yakshagana performances.",
                "shiva": "Shiva, the destroyer among the Trinity, is recognized by his ash-covered body, trident, and the crescent moon on his head. He signifies power and transformation.",
                "hanumantha": "Hanuman is a devoted disciple of Lord Rama, known for his strength, courage, and loyalty. He is a key figure in the Ramayana.",
                "ravana": "Ravana, the demon king of Lanka, is known for his intelligence, strength, and devotion to Lord Shiva. He is the antagonist in the Ramayana.",
                "mahisha": "Mahishasura is a demon defeated by Goddess Durga in a fierce battle, symbolizing the triumph of good over evil.",
                "shumba nishumba": "Shumbha and Nishumbha are two powerful demon brothers defeated by Goddess Durga in the Devi Mahatmya.",
                "default": "Character details not available."
            };

            const prediction = document.getElementById("predicted-character").innerText.trim().toLowerCase();
            const desc = descriptions[prediction] || descriptions["default"];
            document.getElementById("description").innerText = desc;
            document.getElementById("description").style.display = "block";
        }
    </script>
</head>
<body>
    <h1>Yakshavarnika</h1>

    <div class="upload-section">
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="file" required><br>
            <input type="submit" value="Predict">
        </form>

        {% if filename %}
            <h2>Uploaded Image:</h2>
            <img src="{{ url_for('static', filename='uploads/' ~ filename) }}" alt="Uploaded Image" width="300">
        {% endif %}

        {% if prediction %}
            <h2 id="predicted-character">{{ prediction }}</h2>
            <button class="description-button" onclick="showDescription()">Description</button>
            <div id="description" class="description"></div>
        {% endif %}
    </div>
</body>
</html>
